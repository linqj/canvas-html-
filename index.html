<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>htmltopic</title>
<!-- html2canvas将Dom节点在Canvas里边画出来 --> 
<script src="js/html2canvas.min.js"></script> 
<!-- 将canvas图片保存成图片 --> 
<script src="js/canvas2image.js"></script> 
<script src="js/base64.js"></script>
    <style>
             *{
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

html,body {
	width: 100%;
	height: 100%;
	min-width: 320px;
	max-width: 750px;
	margin: 0 auto;
	-webkit-tap-highlight-color:transparent;
}
    </style>
</head>
<body>
    <div id="content" style="width:100%;height:300px;border:1px solid #22b4f6;float:left;text-align:center;"> 
        <p><img width="100px" height="100px" src="./button.png" alt="头像"></p> 
        <p>昵称：richer</p> 
        <p>专业：前端 + 后端</p> 
        <p>语言：html、php、mysql</p> 
        <p>脚本：javascript</p> 
        <p><input type="text" class="tx" placeholder="微信公众号开发"></p> 
        <p><input type="button" class="bt" value="网站微站开发"></p> 
        <div id='btnSave'>点击生成图片</div>
    </div>
    <img src="" alt="" id="img">
    <!-- 保存图片 -->
    <!-- <a href="" onclick="downLoadImage" id="aImg">dianji</a> -->
   
<script>
   /*生成canvas图形*/ 
 
// 获取按钮id 
var btnSave = document.getElementById("btnSave"); 
// 获取内容id 
var content = document.getElementById("content"); 
// 进行canvas生成 
btnSave.onclick = function(){ 
    html2canvas(content, { 
        onrendered: function(canvas) { 
            //添加属性 
            canvas.setAttribute('id','thecanvas'); 
            //读取属性值 
            // var value= canvas.getAttribute('id'); 
            let imageContent=document.getElementById('content');
imageContent.innerHTML = ''; 
imageContent.appendChild(canvas); 
let thecanvas=document.getElementById('thecanvas');

var imgUrl = thecanvas.toDataURL("image/png");
console.log('imgUrl')
console.log(imgUrl)
let img=document.getElementById('img');
img.src=imgUrl;
        } 
    }); 
}
// function downLoadImage(img,name) {
//     var a = document.getElementById("aImg");
//     a.href = img.src;
//     a.download = name;
//     a.click();
// }
</script>
</body>
</html>
